# metastore
# https://trino.io/docs/current/connector/iceberg.html
# Iceberg connector
connector.name=iceberg
iceberg.catalog.type=jdbc
iceberg.jdbc-catalog.catalog-name=${ENV:POSTGRES_DB}

# JDBC catalog (Postgres)
iceberg.jdbc-catalog.driver-class=org.postgresql.Driver
iceberg.jdbc-catalog.connection-url=jdbc:postgresql://${ENV:POSTGRES_HOST}:${ENV:POSTGRES_PORT}/${ENV:POSTGRES_DB}
iceberg.jdbc-catalog.connection-user=${ENV:POSTGRES_USER}
iceberg.jdbc-catalog.connection-password=${ENV:POSTGRES_PASSWORD}
iceberg.jdbc-catalog.default-warehouse-dir=s3://warehouse

# Enable procedures
iceberg.add-files-procedure.enabled=true

# object store
# https://trino.io/docs/current/object-storage.html
# Filesystem / S3 (MinIO)
fs.hadoop.enabled=true
fs.native-s3.enabled=true
s3.endpoint=http://object-store:9000
s3.region=us-east-1
s3.aws-access-key=${ENV:MINIO_USER}
s3.aws-secret-key=${ENV:MINIO_PASSWORD}
s3.path-style-access=true